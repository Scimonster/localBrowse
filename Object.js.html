<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Object.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: Object.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * @file Extensions to Object.prototype
 * @author Scimonster
 * @license {@link LICENSE} (AGPL)
 */

module.exports = {

	'foreach': function(self, fun, thisp) {
		if (self == null || typeof fun != 'function') {
			throw new TypeError();
		}
		var t = Object(self);
		for (var i in t) {
			if (t.hasOwnProperty(i)) {
				if (fun.call(thisp, t[i], i, t) === false) {
					break; // return false from inside the foreach function is analagous to a break
				}
			}
		}
		return t;
	},

	'map': function(self, fun, thisp, sameprops) {
		if (self == null || typeof fun != 'function') {
			throw new TypeError();
		}
		var t = Object(self);
		var res = {};
		for (var i in t) {
			if (t.hasOwnProperty(i)) {
				var val = fun.call(thisp, t[i], i, t);
				if (sameprops) {
					// the new property should have the same enumerate/write/etc as the original
					var props = Object.getOwnPropertyDescriptor(t, i);
					props.value = val;
					Object.defineProperty(res, i, props);
				} else {
					res[i] = val;
				}
			}
		}
		return res;
	},

	'filter': function(self, fun, thisp) {
		if (self == null || typeof fun != 'function') {
			throw new TypeError();
		}
		var res = {};
		var t = Object(self);
		for (var i in t) {
			if (t.hasOwnProperty(i)) {
				var val = t[i]; // in case fun mutates it
				console.log(i)
				console.log(val)
				if (fun.call(thisp, val, i, t)) {
					console.log(true)
					// define property on res in the same manner as it was originally defined
					var props = Object.getOwnPropertyDescriptor(t, i);
					props.value = val;
					Object.defineProperty(res, i, props);
				}
			}
		}
		return res;
	},

	'some': function(self, fun, thisp) {
		if (self == null || typeof fun != 'function') {
			throw new TypeError();
		}
		var t = Object(self);
		for (var i in t) {
			if (t.hasOwnProperty(i) &amp;&amp; fun.call(thisp, t[i], i, t)) {
				return true;
			}
		}
		return false;
	},

	'every': function(self, fun, thisp) {
		if (self == null || typeof fun != 'function') {
			throw new TypeError();
		}
		var t = Object(self);
		for (var i in t) {
			if (t.hasOwnProperty(i) &amp;&amp; fun.call(thisp, t[i], i, t)) {
				return false;
			}
		}
		return true;
	},

	'indexOf': function(self, searchElement, loose) {
		// searchElement: what to search for (if a function, pass val, index, and obj; evaluate response)
		// loose {bool=false}: if true: if an array or object, JSON.stringify, then compare
		// loose, if searchElement is function: object to be passed as self
		// return index or null, if not found
		if (self == null) {
			throw new TypeError();
		}
		if (loose &amp;&amp; typeof searchElement == 'object') {
			searchElement = JSON.stringify(searchElement);
		}
		var t = Object(self);
		for (var i in t) {
			if (t.hasOwnProperty(i)) {
				if (typeof searchElement == 'function') { // if function returns true, so we're at it
					if(searchElement.call(loose, t[i], i, t)) {
						return i;
					}
				} else { // check for a match
					var value = t[i];
					if (loose) {
						value = JSON.stringify(value);
					}
					if (searchElement === value) {
						return i;
					}
				}
				
			}
		}
		return null;
	},

	'unique': function(self) {
		if (self == null) {
			throw new TypeError();
		}
		return Array.prototype.filter.call(self, function(val, i, arr) {
			// force using Array's filter even for strings or other array-likes
			return arr.valueOf().indexOf(val) == i; // only keep first occurrence of anything
		});
	}

};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-info.html">info</a></li><li><a href="module-mod.html">mod</a></li><li><a href="module-routes.html">routes</a></li><li><a href="module-search.html">search</a></li><li><a href="module-text.html">text</a></li></ul><h3>Classes</h3><ul><li><a href="LBFile.html">LBFile</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha2</a> on Tue Dec 10 2013 18:42:47 GMT+0200 (IST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
