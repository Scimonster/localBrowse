#filesel(class=[multiple?'multiple':'single',preview?'preview':'nopreview'])(data-types='['+types.toString()+']')
	table.top
		tr
			td!= _('filesel-top-name')
			td.name(colspan=2)
				input(id='filesel-name',type='text',value=name)
		tr
			td!= _('filesel-top-pathbar')
			td.pathbar
				//- will be populated by jQuery
			td.create
				button.newfolder!= _('filesel-newfolder')
	.content
		ul.sidebar
			//- will be populated by jQuery
		.files-container
			table.files
				thead
					tr
						th.name= _('dirlist-header-name')
						th.size= _('dirlist-header-size')
						th.date= _('dirlist-header-date')
				tbody
					each f in files
						- var classes = ['file']
						- if (f.name.substr(0,1)=='.'||f.name.substr(-1)=='~') {classes.push('hidden')}
						- if (!f.readable) {classes.push('restricted')}
						tr(class=classes,data-path=f.path,data-info=JSON.stringify(f))
							td.file-name(title=f.name)
								img.file-img(src=imageForFile(f,false))
								= f.name.substr(0,30)
								!= f.name.length<30?'':_('dirlist-ellipsis')
							td.file-size(title=f.type=='directory'?_('dirlist-filesize-items',f.items):f.size+' B')!= f.type=='directory'?_('dirlist-filesize-items',f.items):f.filesizeFormatted()
							td.file-date(title=f.date.toLocaleString())!= f.dateFormatted(true)
		if preview
			.preview
				//- will be added to upon selection